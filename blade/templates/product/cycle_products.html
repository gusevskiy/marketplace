{% load thumbnail %}
{% for product in page_obj %}
<div class="col">
  <div class="cart mb-4 rounded-3 shadow-sm"
    style="border: 1px solid #ccc; padding: 10px; box-sizing: border-box; display: flex; flex-direction: column; justify-content: space-between; min-height: 350px;">

    <!-- Изображение продукта -->
    {% if product.images.first %}
    {% thumbnail product.images.first.url "400x400" crop="center" as im %}
    <a href="{{ product.get_absolute_url }}" style="display: block; text-align: center;">
      <img src="{{ im.url }}" alt="{{ product.name }}" style="max-width: 100%; height: auto; margin: 0 auto;" />
    </a>
    {% endthumbnail %}
    {% else %}
    <div
      style="display: flex; align-items: center; justify-content: center; width: 100%; height: 200px; background-color: #ccc; border-radius: 5px;">
      Нет фото
    </div>
    {% endif %}

    <!-- Информация о продукте -->
    <div style="margin-top: 10px; text-align: center;">
      <h5>{{ product.price }} руб.</h5>
      <h5><a href="{{ product.get_absolute_url }}" style="text-decoration: none; color: #000;">{{ product.name }}</a>
      </h5>
      <p class="cart-text" style="font-size: 14px; color: #555;">
        {{ product.description }}
      </p>
      <button class="btn btn-primary" style="margin-top: 10px;">В корзину</button>
    </div>

  </div>
</div>
{% endfor %}